<title>Dashboard - Workoutizer</title>
{% extends 'base.html' %}
{% load static %}
{% block body %}
    <link href="https://cdn.pydata.org/bokeh/release/bokeh-1.2.0.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.2.0.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.pydata.org/bokeh/release/bokeh-tables-1.2.0.min.css" rel="stylesheet" type="text/css">
    <script src="https://cdn.pydata.org/bokeh/release/bokeh-1.2.0.min.js"></script>
    <script src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.2.0.min.js"></script>
    <script src="https://cdn.pydata.org/bokeh/release/bokeh-tables-1.2.0.min.js"></script>

    {{ script | safe }}

    <h3>Dashboard</h3>
    <br>
    <div class="row">
        <div class="col-sm-8">
            <p>Overview of all your activities:</p>
        </div>
        <div class="col-sm-4">
            <div class="float-right">
                <div class="dropdown">
                    display last
                    <button type="button" class="btn btn-warning btn-sm dropdown-toggle" data-toggle="dropdown">
                        {{ days }}
                    </button>
                    <div class="dropdown-menu">
                        {% for k, v in choices %}
                            {% if v == days %}
                                <a class="dropdown-item" href="/set_number_of_day/{{ v }}"><b>{{ v }}&nbsp;<i
                                        class="fas fa-check"></i></b></a>
                            {% else %}
                                <a class="dropdown-item" href="/set_number_of_days/{{ v }}">{{ v }}</a>
                            {% endif %}
                        {% endfor %}
                    </div>
                    days
                </div>
            </div>
        </div>
    </div>
    {{ div | safe }}
    <table class="table table-hover">
        <thead>
        <tr>
            <th>Date</th>
            <th>Name</th>
            <th>Track</th>
            <th>Sport</th>
            <th>Duration</th>
            <th>Distance</th>
        </tr>
        </thead>
        {% for a in activities %}
            <tbody>
            <tr>
                <td>{{ a.date }}</td>
                <td><a href="/activity/{{ a.id }}">{{ a.title }}</a></td>
                <td>
                    {% if a.trace_file %}
                        <i class="fas fa-map-marked-alt"></i>
                    {% else %}
                        -
                    {% endif %}
                </td>
                <td>
                    <a href="/sport/{{ a.sport.slug }}" style="color: {{ a.sport.color }};">
                        <i class="fas fa-{{ a.sport.icon }}"></i>
                    </a>
                </td>
                <td>{{ a.duration }}</td>
                <td>{{ a.distance }}</td>
            </tr>
            </tbody>
        {% endfor %}
    </table>
{% endblock %}