<head>
<!-- leaflet-ui -->
    <script src="https://unpkg.com/leaflet@1.3.2/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-ui@0.2.0/dist/leaflet-ui.js"></script>
    <!-- leaflet-elevation -->
    <link rel="stylesheet" href="https://unpkg.com/@raruto/leaflet-elevation@latest/leaflet-elevation.css"/>
    <script src="https://unpkg.com/@raruto/leaflet-elevation@latest/leaflet-elevation.js"></script>
</head>
<div id="map"></div>
<script>
    // Full list options at "leaflet-elevation.js"
    var elevation_options = {

        // Default chart colors: theme lime-theme, magenta-theme, ...
        theme: "lightblue-theme",

        // Chart container outside/inside map container
        detached: true,

        // if (detached), the elevation chart container
        elevationDiv: "#elevation-div",

        // if (!detached) autohide chart profile on chart mouseleave
        autohide: false,

        // if (!detached) initial state of chart profile control
        collapsed: false,

        // if (!detached) control position on one of map corners
        position: "topright",

        // Autoupdate map center on chart mouseover.
        followMarker: false,

        // Chart distance/elevation units.
        imperial: false,

        // [Lat, Long] vs [Long, Lat] points. (leaflet default: [Lat, Long])
        reverseCoords: false,

        // Summary track info style: "line" || "multiline" || false,
        summary: false,
    };

    // Instantiate map (leaflet-ui).
    var map = new L.Map('map', {mapTypeId: 'terrain', center: [41.4583, 12.7059], zoom: 5});

    // Instantiate elevation control.
    {#var controlElevation = L.control.elevation(elevation_options);#}
    {#controlElevation.addTo(map);#}

    // Load track from url (allowed data types: "*.geojson", "*.gpx")
    {#controlElevation.load("https://raruto.github.io/examples/leaflet-elevation/via-emilia.gpx");#}

    var data = {
        "name": "demo.geojson",
        "type": "FeatureCollection",
        "features": [{
            "type": "Feature",
            "geometry": {
                "type": "LineString",
                "coordinates": [
                    [169.13693, -44.696476, 296],
                    [169.134602, -44.69764, 295],
                    [169.129983, -44.701164, 299],
                    [169.131292, -44.702382, 303],
                    [169.13376, -44.704533, 315],
                    [169.135568, -44.705574, 336],
                    [169.136179, -44.70934, 338],
                    [169.137011, -44.714066, 344],
                    [169.136984, -44.719489, 342],
                    [169.136898, -44.725235, 350],
                    [169.136801, -44.730143, 353],
                    [169.135632, -44.734853, 354],
                    [169.131882, -44.738989, 363],
                    [169.129688, -44.744241, 363],
                    [169.123937, -44.746982, 361],
                    [169.118509, -44.750286, 371]
                ]
            }
        }]
    };


    // initialize your elevation control variable.
    var control = L.control.elevation(elevation_options);

    control.geojson = L.geoJson(data, {
        onEachFeature: control.addData.bind(control),
    });

    control.loadChart(map); // initialize your #elevation-div container

    // Really rough trick used to detect when your geojson data is fully loaded
    map.once('layeradd', function (e) {
        map.fitBounds(control.geojson.getBounds());
    });

    control.geojson.addTo(map);

</script>
